<p>The following pages and posts are tagged with <button type="button" style="cursor: default" class="btn btn-default navbar-btn">{{page.tagname}}</button></p>
<table><thead><tr><th>Page&nbsp;Title</th><th>Page&nbsp;Type</th><th>Excerpt</th><th>URL</th></tr></thead>
    <tbody>

  {% assign sorted = site.pages | sort:"title" %}

  {% for page in sorted %}
    {% for tag in page.tags %}
        {% if tag == page.tagname %}

        <tr><td><a href="{{site.baseurl}}{{ page.url }}">{{page.title}}</a></td>
            <td><span class="label label-pages">Page</span></td>
          <td>{% if page.summary %} {{ page.summary | strip_html | strip_newlines | truncate: 160 }} {% else %} {{ page.content | truncatewords: 50 | strip_html }} {% endif %}</td>
            <td>{{page.url}}</td>
        </tr>

        {% endif %}
    {% endfor %}

    {% if jekyll.environment != "production" %}
    {% for tag in page.devtags %}
        {% if tag == page.tagname %}
        <tr><td><a href="{{site.baseurl}}{{ page.url }}">{{page.title}}</a></td>
           <td><span class="label label-pages">Page</span></td>
           <td>{% if page.summary %} {{ page.summary | strip_html | strip_newlines | truncate: 160 }} {% else %} {{ page.content | truncatewords: 50 | strip_html }} {% endif %}</td>
           <td>{{page.url}}</td>
        </tr>
       {% endif %}
    {% endfor %}
    {% endif %}

  {% endfor %}

  {% assign sorted = site.posts | sort:"date" | reverse %}

  {% for post in sorted %}
    {% for tag in post.tags %}
        {% if tag == page.tagname %}

        <tr><td><a href="{{site.baseurl}}{{ post.url }}">{{post.title}}</a></td>
            <td><span class="label label-news">News</span></td>
            <td>{% if post.summary %} {{ post.summary | strip_html | strip_newlines | truncate: 160 }} {% else %} {{ post.content | truncatewords: 50 | strip_html }} {% endif %}</td>
            <td>{{post.url}}</td>
        </tr>

        {% endif %}
    {% endfor %}

    {% if jekyll.environment != "production" %}
    {% for tag in post.devtags %}
        {% if tag == page.tagname %}
        <tr><td><a href="{{site.baseurl}}{{ post.url }}">{{post.title}}</a></td>
            <td><span class="label label-pages">News</span></td>
            <td>{% if post.summary %} {{ post.summary | strip_html | strip_newlines | truncate: 160 }} {% else %} {{ post.content | truncatewords: 50 | strip_html }} {% endif %}</td>
            <td>{{post.url}}</td>
        </tr>
        {% endif %}
    {% endfor %}
    {% endif %}
  {% endfor %}

  {% assign sorted = site.docs-latest | sort:"url" %}

  {% for doc in sorted %}
    {% for tag in doc.tags %}
       {% if tag == page.tagname %}

        <tr><td><a href="{{site.baseurl}}{{ doc.url }}">{{doc.title}}</a></td>
            <td><span class="label label-docs">Docs</span></td>
            <td>{% if doc.summary %} {{ doc.summary | strip_html | strip_newlines | truncate: 160 }} {% else %} {{ doc.content | truncatewords: 50 | strip_html }} {% endif %}</td>
            <td>{{doc.url}}</td>
        </tr>
       {% endif %}
    {% endfor %}

    {% if jekyll.environment != "production" %}
    {% for tag in doc.devtags %}
        {% if tag == page.tagname %}
        <tr><td><a href="{{site.baseurl}}{{ doc.url }}">{{doc.title}}</a></td>
            <td><span class="label label-pages">Docs</span></td>
            <td>{% if doc.summary %} {{ doc.summary | strip_html | strip_newlines | truncate: 160 }} {% else %} {{ doc.content | truncatewords: 50 | strip_html }} {% endif %}</td>
            <td>{{doc.url}}</td>
        </tr>
        {% endif %}
    {% endfor %}
    {% endif %}
  {% endfor %}

   </tbody>
</table>
