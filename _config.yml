#############################################################################
# Global site config properties
#############################################################################

# DataWave project repo
repository_url: https://github.com/NationalSecurityAgency/datawave

# gh-pages site repo. This config property is required when running
# the site in production mode
repository: NationalSecurityAgency/datawave

# Base URL to allow relative paths to work correctly on GitHub.
# Note: as a side effect of this, in order for things to work
# correctly when you're running the site locally, you'll need
# to run the site with "jekyll serve --baseurl '' ... "
baseurl: /datawave

# max news posts to display on the home page
num_home_posts: 8

# org name for the footer
organization_name: National Security Agency

# org url for the footer
organization_url: https://github.com/NationalSecurityAgency

# base path to the branch we'll be using for PR's; leaving as gh-pages for now.
github_editme_path: NationalSecurityAgency/datawave/edit/gh-pages/

# TODO: get google-analytics ID.
google_analytics:

# these are the files and directories that jekyll will exclude from the build
exclude:
  - .idea/
  - scripts/
  - .gitignore
  - README.md

feedback_subject_line:
feedback_email:
feedback_disable: true
feedback_text: "Contact Us"
feedback_link: "http://github.com/NationalSecurityAgency/datawave"

highlighter: rouge
markdown: kramdown
kramdown:
  input: GFM
  auto_ids: true
  hard_wrap: false
  syntax_highlighter: rouge

# Description is used in /feed.xml
description: "DataWave is a Java-based ingest and query framework that leverages Apache Accumulo to provide fast, secure access to your data"

#############################################################################
# Plugins
#############################################################################

# We're using the jekyll-redirect-from plugin so that we can hardcode
# certain href links to the latest docs without having to hardcode the
# permalink to the specific DW version....
# E.g., "/docs" redirects to "/docs/7.x/getting-started/overview"
# See _docs-latest/*.md files for other examples   

whitelist: [jekyll-redirect-from]
plugins: [jekyll-redirect-from]

#############################################################################
# Docs Collection Configuration
#############################################################################

# To prevent a deprecated/unwanted collection from being rendered,
# set 'output: false' below. E.g., if the time it takes to build and
# render the site ever becomes excessive, there's no need to delete
# ancient _docs-* dirs, just disable them here

collections:
  # The "docs-latest" collection renders _docs-latest folder
  # contents to the configured permalink path. Note that there's
  # an implicit relationship between this collection and the
  # frontmatter config below where scope.type == 'docs-latest' 
  docs-latest:
    output: true
    permalink: "/docs/7.x/:path"
  
  # Renders _docs-6x folder contents. See frontmatter configs
  # below where scope.type == 'docs-6x'
  docs-6x:
    output: true
    permalink: "/docs/6.x/:path"

  # Renders _docs-5x folder contents. See frontmatter configs
  # below where scope.type == 'docs-5x'  
  docs-5x:
    output: true
    permalink: "/docs/5.x/:path"
  
  # There was never a 4.x DW release, for a variety of reasons

  # Renders _docs-3x folder contents. See frontmatter configs
  # below where scope.type == 'docs-3x'
  docs-3x:
    output: true
    permalink: "/docs/3.x/:path"

#############################################################################
# Frontmatter Defaults. Override on a per-page (*.md) basis, if needed
#############################################################################

# The values.topnav property is always 'topnav' below, so
# that _data/topnav.yml will be configured as the primary nav
# bar for all pages in the site

# Sidebar navigation for each page in a docs collection 
# is also config-driven (see _data/sidebars/*.yml examples). And
# rendering of each sidebar is handled by _includes/sidebar.html
# based on the values.sidebar property for the given collection
# (or scope.type)

defaults:
  -
    # Frontmatter defaults for the current DW version (_docs-latest dir)
    scope:
      path: ""
      type: "docs-latest"
    values:
      layout: "docs"
      title_prefix: "DataWave 7.x Docs - "
      sidebar: docs-latest-sidebar
      # release_tag is used mainly for creating links to source files
      # on the main datawave repo, sometimes targeting specific line #'s
      # in a file. So, changing the value here could break those
      release_tag: 7.2.1
      show_summary: true
      skip_title_for_h1: false
      toc: true
      topnav: topnav
  -
    # Frontmatter defaults for DW 6.x (_docs-6x dir)
    scope:
      path: ""
      type: "docs-6x"
    values:
      layout: "docs"
      title_prefix: "DataWave 6.x Docs - "
      sidebar: docs-6x-sidebar
      release_tag: 6.5.5
      show_summary: true
      skip_title_for_h1: false
      toc: true
      topnav: topnav
  -
    # Frontmatter defaults for DW 5.x (_docs-5x dir)
    scope:
      path: ""
      type: "docs-5x"
    values:
      layout: "docs"
      title_prefix: "DataWave 5.x Docs - "
      sidebar: docs-5x-sidebar
      release_tag: 5.10.0
      show_summary: true
      skip_title_for_h1: false
      toc: true
      topnav: topnav
  -
    # Frontmatter defaults for DW 3.x (_docs-3x dir)
    scope:
      path: ""
      type: "docs-3x"
    values:
      layout: "docs"
      title_prefix: "DataWave 3.x Docs - "
      sidebar: docs-3x-sidebar
      release_tag: 3.41.8
      show_summary: true
      skip_title_for_h1: false
      toc: true
      topnav: topnav
  -
    # Frontmatter defaults for any pages/*.md
    scope:
      path: ""
      type: "pages"
    values:
      layout: "page"
      skip_title_for_h1: false
      toc: false
      topnav: topnav
  -
    # Frontmatter defaults for any pages/tags/*.md
    scope:
      path: "pages/tags"
      type: "pages"
    values:
      layout: "page"
      title_prefix: "Site Tag: "
      toc: false
      skip_title_for_h1: true
      topnav: topnav
  -
    # Frontmatter defaults for any _posts/news/*.md
    scope:
      path: "_posts/news"
      type: "posts"
    values:
      layout: "news"
      category: "news"
      permalink: "/:categories/:year/:month/:day/:title"
      title_prefix: "DataWave News - "
      skip_title_for_h1: false
      toc: false
      topnav: topnav
  -
    # Frontmatter defaults for any _posts/release/*.md
    scope:
      path: "_posts/release"
      type: "posts"
    values:
      layout: "release"
      category: "release"
      permalink: "/:categories/:title/"
      skip_title_for_h1: false
      toc: false
      topnav: topnav
